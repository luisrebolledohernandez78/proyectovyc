{% load static %}
<!doctype html>
<html lang="es" class="theme-dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Intranet VyC Ingeniería</title>
    <link rel="stylesheet" href="{% static 'css/theme.css' %}">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Variables CSS para temas */
      :root {
        --transition-theme: all 4s cubic-bezier(0.4, 0, 0.2, 1);
        color-scheme: dark;
      }
      
      /* Tema Oscuro (por defecto) */
      .theme-dark {
        --bg-primary: #001b4e;
        --bg-secondary: #001133;
        --bg-tertiary: #04091f;
        --text-primary: rgb(236, 254, 255);
        --text-secondary: rgba(236, 254, 255, 0.9);
        --text-muted: rgba(236, 254, 255, 0.8);
        --accent-primary: rgb(34, 211, 238);
        --accent-secondary: rgb(250, 204, 21);
        --card-bg: rgba(34, 211, 238, 0.16);
        --card-border: rgba(103, 232, 249, 0.32);
        --module-bg: linear-gradient(155deg, rgba(13, 148, 136, 0.12) 0%, rgba(5, 20, 51, 0.78) 58%, rgba(71, 116, 210, 0.18) 100%);
        --module-shadow: 6px 6px 0 rgba(4, 7, 18, 0.55), 0 30px 65px -45px rgba(34, 211, 238, 0.65);
        --module-shadow-hover: 9px 9px 0 rgba(4, 7, 18, 0.6), 0 40px 80px -50px rgba(34, 211, 238, 0.75);
        --shadow-color: rgba(34, 211, 238, 0.65);
      }
      
      /* Tema Claro */
      .theme-light {
        --bg-primary: radial-gradient(ellipse at top right, #fff9c4 0%, #fef3c7 15%, #e1f5fe 35%, #b3e5fc 65%, #81d4fa 100%);
        --bg-secondary: #b3e5fc;
        --bg-tertiary: #81d4fa;
        --text-primary: #1e3a8a;
        --text-secondary: #1e40af;
        --text-muted: #3b82f6;
        --accent-primary: #0277bd;
        --accent-secondary: #fbbf24;
        --card-bg: rgba(255, 255, 255, 0.8);
        --card-border: rgba(2, 119, 189, 0.15);
        --module-bg: linear-gradient(155deg, rgba(255, 255, 255, 0.85) 0%, rgba(254, 243, 199, 0.4) 25%, rgba(225, 245, 254, 0.7) 75%, rgba(179, 229, 252, 0.6) 100%);
        --module-shadow: 6px 6px 0 rgba(38, 50, 56, 0.12), 0 30px 65px -45px rgba(251, 191, 36, 0.25);
        --module-shadow-hover: 9px 9px 0 rgba(38, 50, 56, 0.15), 0 40px 80px -50px rgba(251, 191, 36, 0.35);
        --shadow-color: rgba(251, 191, 36, 0.2);
      }

      /* Toggle Switch Styles */
      .theme-toggle {
        position: fixed;
        top: 2rem;
        right: 2rem;
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem 1rem;
        background: var(--card-bg);
        border: 1px solid var(--card-border);
        border-radius: 2rem;
        backdrop-filter: blur(20px);
        transition: var(--transition-theme);
        box-shadow: 0 8px 32px var(--shadow-color);
      }

      .toggle-switch {
        position: relative;
        width: 3.5rem;
        height: 1.75rem;
        background: var(--card-bg);
        border: 1px solid var(--card-border);
        border-radius: 1rem;
        cursor: pointer;
        transition: var(--transition-theme);
      }

      .toggle-slider {
        position: absolute;
        top: 2px;
        left: 2px;
        width: 1.5rem;
        height: 1.5rem;
        background: var(--accent-primary);
        border-radius: 50%;
        transition: var(--transition-theme);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.75rem;
        color: white;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }

      .theme-dark .toggle-slider {
        transform: translateX(0);
      }

      .theme-light .toggle-slider {
        transform: translateX(1.75rem);
        background: var(--accent-secondary);
      }

      .toggle-label {
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--text-secondary);
        transition: var(--transition-theme);
      }
      /* Animaciones para modo oscuro */
      @keyframes twinkle {
        0%, 100% { opacity: 0.15; }
        25% { opacity: 0.35; }
        45% { opacity: 0.05; }
        65% { opacity: 0.4; }
        85% { opacity: 0.12; }
      }

      /* Animaciones para modo claro */
      @keyframes float-clouds {
        0%, 100% { transform: translateX(0) translateY(0); opacity: 0.6; }
        25% { transform: translateX(10px) translateY(-5px); opacity: 0.8; }
        50% { transform: translateX(20px) translateY(0); opacity: 0.7; }
        75% { transform: translateX(15px) translateY(5px); opacity: 0.9; }
      }

      @keyframes gentle-glow {
        0%, 100% { opacity: 0.3; filter: blur(20px); }
        50% { opacity: 0.6; filter: blur(15px); }
      }

      @keyframes sun-rays {
        0%, 100% { 
          opacity: 0.1; 
          transform: rotate(0deg) scale(1);
        }
        25% { 
          opacity: 0.2; 
          transform: rotate(90deg) scale(1.1);
        }
        50% { 
          opacity: 0.15; 
          transform: rotate(180deg) scale(0.9);
        }
        75% { 
          opacity: 0.25; 
          transform: rotate(270deg) scale(1.05);
        }
      }

      /* Efectos atmosféricos - Modo Oscuro */
      .theme-dark .atmospheric-layer {
        background-image: url("https://www.transparenttextures.com/patterns/stardust.png");
        mix-blend-mode: screen;
        filter: brightness(170%);
        opacity: 0.18;
        animation: twinkle 8s ease-in-out infinite;
        transition: var(--transition-theme);
      }

      /* Efectos atmosféricos - Modo Claro */
      .theme-light .atmospheric-layer {
        background-image: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23fbbf24' fill-opacity='0.15'%3E%3Ccircle cx='15' cy='15' r='3'/%3E%3Ccircle cx='65' cy='35' r='2'/%3E%3Ccircle cx='35' cy='65' r='1.5'/%3E%3Ccircle cx='55' cy='15' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        mix-blend-mode: overlay;
        filter: brightness(120%);
        opacity: 0.15;
        animation: float-clouds 15s ease-in-out infinite;
        transition: var(--transition-theme);
      }

      .atmospheric-layer {
        content: "";
        position: fixed;
        inset: 0;
        pointer-events: none;
        transition: var(--transition-theme);
      }
      .module-card {
        border-radius: 12px;
        border: 1px solid var(--card-border);
        background: var(--module-bg);
        box-shadow: var(--module-shadow);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 2.5rem 2rem;
        height: 210px;
        width: 320px;
        flex-direction: column;
        transition: var(--transition-theme), transform 0.3s ease, box-shadow 0.3s ease, filter 0.3s ease;
      }
      
      .module-card:hover {
        transform: translate(-3px, -3px);
        box-shadow: var(--module-shadow-hover);
        filter: brightness(1.05);
      }
      
      .module-card:active {
        transform: translate(2px, 2px);
        filter: brightness(0.95);
      }

      .theme-dark .module-card:active {
        box-shadow: 3px 3px 0 rgba(4, 7, 18, 0.55), 0 18px 45px -30px rgba(34, 211, 238, 0.55);
      }

      .theme-light .module-card:active {
        box-shadow: 3px 3px 0 rgba(38, 50, 56, 0.15), 0 18px 45px -30px rgba(2, 119, 189, 0.3);
      }
      /* Estilos adaptativos para textos y elementos */
      .adaptive-text {
        color: var(--text-primary);
        transition: var(--transition-theme);
      }

      .adaptive-text-secondary {
        color: var(--text-secondary);
        transition: var(--transition-theme);
      }

      .adaptive-text-muted {
        color: var(--text-muted);
        transition: var(--transition-theme);
      }

      .adaptive-gradient-text {
        background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary), var(--accent-primary));
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        transition: var(--transition-theme);
      }

      .theme-badge {
        border: 1px solid var(--card-border);
        background: var(--card-bg);
        color: var(--text-secondary);
        transition: var(--transition-theme);
      }

      .theme-dark .theme-badge {
        box-shadow: 0 0 12px rgba(250, 204, 21, 0.8);
      }

      .theme-light .theme-badge {
        box-shadow: 0 0 12px rgba(75, 85, 99, 0.8);
      }

      .neon-border {
        position: relative;
      }
      
      .theme-dark .neon-border::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        padding: 1px;
        background: linear-gradient(120deg, rgba(34, 211, 238, 0.85), rgba(250, 204, 21, 0.65), rgba(34, 211, 238, 0.95));
        -webkit-mask: linear-gradient(#000, #000) content-box, linear-gradient(#000, #000);
        mask: linear-gradient(#000, #000) content-box, linear-gradient(#000, #000);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        opacity: 0;
        pointer-events: none;
        filter: saturate(0.65);
        transition: opacity 0.55s ease, filter 0.65s ease;
      }

      .theme-light .neon-border::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        padding: 1px;
        background: linear-gradient(120deg, rgba(31, 41, 55, 0.8), rgba(75, 85, 99, 0.7), rgba(31, 41, 55, 0.9));
        -webkit-mask: linear-gradient(#000, #000) content-box, linear-gradient(#000, #000);
        mask: linear-gradient(#000, #000) content-box, linear-gradient(#000, #000);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        opacity: 0;
        pointer-events: none;
        filter: saturate(0.65);
        transition: opacity 0.55s ease, filter 0.65s ease;
      }

      .theme-dark .neon-border::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        box-shadow: 0 0 20px rgba(34, 211, 238, 0.25), 0 0 35px rgba(250, 204, 21, 0.15);
        opacity: 0;
        pointer-events: none;
        filter: blur(1.2px);
        transition: opacity 0.55s ease, filter 0.65s ease, box-shadow 0.65s ease;
      }

      .theme-light .neon-border::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        box-shadow: 0 0 20px rgba(31, 41, 55, 0.4), 0 0 35px rgba(75, 85, 99, 0.3);
        opacity: 0;
        pointer-events: none;
        filter: blur(1.2px);
        transition: opacity 0.55s ease, filter 0.65s ease, box-shadow 0.65s ease;
      }

      .neon-border:hover::before,
      .neon-border:focus-visible::before {
        opacity: 1;
        filter: saturate(1.15);
        animation: neonBorderPulse 5.5s ease-in-out infinite;
      }
      .neon-border:hover::after,
      .neon-border:focus-visible::after {
        opacity: 0.8;
        filter: blur(0.45px);
        box-shadow:
          0 0 28px rgba(34, 211, 238, 0.45),
          0 0 55px rgba(250, 204, 21, 0.3);
        animation: neonGlow 6s ease-in-out infinite;
      }
      @keyframes neonBorderPulse {
        0%, 100% {
          opacity: 0.65;
          filter: saturate(1);
        }
        40% {
          opacity: 1;
          filter: saturate(1.2);
        }
        70% {
          opacity: 0.8;
          filter: saturate(0.9);
        }
      }
      @keyframes neonGlow {
        0%, 100% {
          opacity: 0.55;
          filter: blur(0px);
        }
        45% {
          opacity: 0.9;
          filter: blur(1.5px);
        }
        70% {
          opacity: 0.7;
          filter: blur(0.5px);
        }
      }
      .btn-icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        transition: transform 0.25s ease;
      }
      .btn-icon--active {
        transform: translateY(-1px) scale(1.15);
      }

      /* Estilos adaptativos para botones */
      .btn-3d {
        transition: var(--transition-theme), transform 0.3s ease, box-shadow 0.3s ease;
      }

      .theme-dark .btn-3d {
        background: linear-gradient(135deg, rgba(34, 211, 238, 0.2) 0%, rgba(13, 148, 136, 0.3) 50%, rgba(59, 130, 246, 0.2) 100%);
        border: 1px solid rgba(34, 211, 238, 0.4);
        color: rgba(236, 254, 255, 0.9);
        box-shadow: 0 4px 15px rgba(34, 211, 238, 0.3);
      }

      .theme-light .btn-3d {
        background: linear-gradient(135deg, rgba(2, 119, 189, 0.8) 0%, rgba(251, 191, 36, 0.7) 50%, rgba(2, 119, 189, 0.8) 100%);
        border: 1px solid rgba(2, 119, 189, 0.6);
        color: white;
        box-shadow: 0 4px 15px rgba(2, 119, 189, 0.4);
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        font-weight: 600;
      }

      .theme-dark .btn-3d:hover {
        background: linear-gradient(135deg, rgba(34, 211, 238, 0.3) 0%, rgba(13, 148, 136, 0.4) 50%, rgba(59, 130, 246, 0.3) 100%);
        box-shadow: 0 6px 20px rgba(34, 211, 238, 0.4);
        transform: translateY(-2px);
      }

      .theme-light .btn-3d:hover {
        background: linear-gradient(135deg, rgba(2, 119, 189, 0.9) 0%, rgba(251, 191, 36, 0.8) 50%, rgba(2, 119, 189, 0.9) 100%);
        box-shadow: 0 6px 20px rgba(2, 119, 189, 0.5);
        transform: translateY(-2px);
      }

      .theme-dark .btn-3d:active {
        transform: translateY(0);
        box-shadow: 0 2px 8px rgba(34, 211, 238, 0.3);
      }

      .theme-light .btn-3d:active {
        transform: translateY(0);
        box-shadow: 0 2px 8px rgba(2, 119, 189, 0.4);
      }
    </style>
  </head>
  <body class="min-h-screen transition-all duration-[4000ms] ease-in-out" style="color: var(--text-primary);">
    <!-- Fondo base adaptativo -->
    <div class="fixed inset-0 transition-all duration-[4000ms] -z-10 theme-dark:bg-gradient-to-br theme-dark:from-[var(--bg-primary)] theme-dark:via-[var(--bg-secondary)] theme-dark:to-[var(--bg-tertiary)]" 
         style="background: var(--bg-primary);"></div>
    
    <!-- Theme Toggle -->
    <div class="theme-toggle">
      <span class="toggle-label">Noche</span>
      <div class="toggle-switch" onclick="toggleTheme()">
        <div class="toggle-slider">
          <span class="theme-icon">🌙</span>
        </div>
      </div>
      <span class="toggle-label">Día</span>
    </div>

    <!-- Efectos atmosféricos -->
    <div class="atmospheric-layer"></div>
    
    <!-- Rayos de sol (solo modo claro) -->
    <div class="theme-light:block theme-dark:hidden fixed -top-24 -right-24 w-96 h-96 pointer-events-none transition-all duration-[4000ms]" 
         style="background: conic-gradient(from 0deg, transparent 0deg, rgba(251, 191, 36, 0.08) 45deg, transparent 90deg, rgba(254, 243, 199, 0.06) 135deg, transparent 180deg, rgba(251, 191, 36, 0.08) 225deg, transparent 270deg, rgba(254, 243, 199, 0.06) 315deg, transparent 360deg); animation: sun-rays 20s linear infinite; filter: blur(2px);"></div>
    
    <div class="relative flex min-h-screen flex-col items-center justify-center px-6 py-12 text-center">
      <!-- Efectos de luz atmosférica -->
      <div class="pointer-events-none absolute inset-0 transition-all duration-[4000ms]" style="opacity: 0.6;">
        <!-- Sol en esquina superior derecha (modo claro) -->
        <div class="theme-light:block theme-dark:hidden absolute -top-20 -right-20 h-96 w-96 rounded-full transition-all duration-[4000ms]" 
             style="background: radial-gradient(circle, rgba(251, 191, 36, 0.4) 0%, rgba(254, 243, 199, 0.3) 30%, rgba(255, 255, 196, 0.2) 50%, transparent 70%); filter: blur(40px);"></div>
        
        <!-- Efectos modo oscuro -->
        <div class="theme-dark:block theme-light:hidden absolute -top-32 right-[25%] h-80 w-80 rounded-full blur-[180px] transition-all duration-[4000ms]" style="background: var(--accent-primary); opacity: 0.25;"></div>
        <div class="theme-dark:block theme-light:hidden absolute bottom-[-25%] left-[18%] h-96 w-96 rounded-full blur-[220px] transition-all duration-[4000ms]" style="background: var(--accent-secondary); opacity: 0.18;"></div>
        
        <!-- Efectos modo claro - luz solar difusa -->
        <div class="theme-light:block theme-dark:hidden absolute top-[10%] right-[15%] h-72 w-72 rounded-full blur-[140px] transition-all duration-[4000ms]" style="background: var(--accent-secondary); opacity: 0.15;"></div>
        <div class="theme-light:block theme-dark:hidden absolute bottom-[20%] left-[20%] h-80 w-80 rounded-full blur-[200px] transition-all duration-[4000ms]" style="background: var(--accent-primary); opacity: 0.12;"></div>
      </div>
      <div class="relative space-y-6">
        <span class="theme-badge inline-flex items-center gap-2 rounded-full px-5 py-2 text-[0.7rem] font-semibold uppercase tracking-[0.4em]">
          <span class="h-1.5 w-1.5 rounded-full transition-all duration-[4000ms]" style="background-color: var(--accent-secondary); box-shadow: 0 0 12px var(--accent-secondary);"></span>
          VyC Ingeniería
        </span>
        <h1 class="adaptive-gradient-text text-4xl font-extrabold md:text-5xl">
          Bienvenido a la Intranet Corporativa
        </h1>
        <p class="adaptive-text-secondary mx-auto max-w-2xl text-base md:text-lg">
          Elige el área que deseas gestionar. Cada módulo te dirige a las herramientas y reportes
          necesarios para operar el día a día de VyC Ingeniería.
        </p>
      </div>
      <div class="relative mt-10 flex flex-col items-center gap-6 md:flex-row">
        <a href="{% url 'clients-module' %}" class="module-card neon-border">
          <span class="adaptive-gradient-text text-[1.35rem] font-extrabold uppercase">
            Clientes
          </span>
          <span class="adaptive-text-muted mt-4 text-[0.78rem] font-normal tracking-normal">
            Proyectos, contratos y relación comercial
          </span>
        </a>
        <a href="{% url 'vehicle-maintenance' %}" class="module-card neon-border">
          <span class="adaptive-gradient-text text-[1.35rem] font-extrabold uppercase">
            Mantenimiento y Reparaci&oacute;n de Veh&iacute;culos
          </span>
          <span class="adaptive-text-muted mt-4 text-[0.78rem] font-normal tracking-normal">
            Agendamiento, recepción, presupuesto, reparación, pago y entrega integrados en un mismo flujo.
          </span>
        </a>
        <a href="{% url 'user-management' %}" class="module-card neon-border">
          <span class="adaptive-gradient-text text-[1.35rem] font-extrabold uppercase">
            Gestión Interna
          </span>
          <span class="adaptive-text-muted mt-4 text-[0.78rem] font-normal tracking-normal">
            Personal, vehículos, maquinaria, bodega
          </span>
        </a>
      </div>
      <div class="adaptive-text-muted relative mt-12 text-xs uppercase tracking-[0.35em]">
        Selecciona un módulo para continuar
      </div>
      <form method="post" action="{% url 'logout' %}" class="relative mt-16">
        {% csrf_token %}
        <button type="submit" class="btn-3d text-sm uppercase tracking-[0.3em] px-7 py-3">
          <span class="btn-icon" aria-hidden="true" data-icon-default="&#x1F6AA;" data-icon-active="&#x1F6AA;">&#x1F6AA;</span>
          <span class="adaptive-text">Salir</span>
        </button>
      </form>
    </div>
    <script>
      // Función para cambiar el tema
      function toggleTheme() {
        const html = document.documentElement;
        const themeIcon = document.querySelector('.theme-icon');
        const isDark = html.classList.contains('theme-dark');
        
        if (isDark) {
          html.classList.remove('theme-dark');
          html.classList.add('theme-light');
          themeIcon.textContent = '☀️';
          localStorage.setItem('theme', 'light');
        } else {
          html.classList.remove('theme-light');
          html.classList.add('theme-dark');
          themeIcon.textContent = '🌙';
          localStorage.setItem('theme', 'dark');
        }
      }

      document.addEventListener("DOMContentLoaded", () => {
        // Cargar tema guardado
        const savedTheme = localStorage.getItem('theme') || 'dark';
        const html = document.documentElement;
        const themeIcon = document.querySelector('.theme-icon');
        
        if (savedTheme === 'light') {
          html.classList.remove('theme-dark');
          html.classList.add('theme-light');
          themeIcon.textContent = '☀️';
        } else {
          html.classList.remove('theme-light');
          html.classList.add('theme-dark');
          themeIcon.textContent = '🌙';
        }

        // Animaciones de botones
        document.querySelectorAll(".btn-icon[data-icon-active]").forEach((icon) => {
          const button = icon.closest("button");
          if (!button) return;
          button.addEventListener("click", () => {
            icon.textContent = icon.dataset.iconActive;
            icon.classList.add("btn-icon--active");
            setTimeout(() => {
              icon.textContent = icon.dataset.iconDefault;
              icon.classList.remove("btn-icon--active");
            }, 450);
          });
        });
      });
    </script>
  </body>
</html>
